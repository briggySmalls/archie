model:
  elements:
    - name: user
      kind: actor
    - name: sound-system
      children:
        - name: speaker
          children:
            - name: enclosure
              tags: [physical]
            - name: driver
              tags: [electronic, mechanical]
            - connector
            - cable
        - name: amplifier
          children:
            - name: audio in connector
              tags: [electronic]
            - name: audio out connector
              tags: [electronic]
            - name: bluetooth receiver
              tags: [electronic]
            - name: ac-dc converter
              tags: [electronic]
            - name: mixer
              tags: [electronic]
            - name: amplifier
              tags: [electronic]
            - name: power button
              tags: [electronic, mechanical]
            - name: input select
              tags: [electronic, mechanical]
    - name: app
      children:
      - bluetooth driver
      - spotify client
      - ui
  associations:
    # Sound system
    - source: user
      destination: sound-system/amplifier/input select
    - source: sound-system/amplifier/input select
      destination: sound-system/amplifier/mixer
    - source: sound-system/amplifier/audio in connector
      destination: sound-system/amplifier/mixer
    - source: sound-system/amplifier/bluetooth receiver
      destination: sound-system/amplifier/mixer
    - source: sound-system/amplifier/ac-dc converter
      destination: sound-system/amplifier/mixer
    - source: sound-system/amplifier/mixer
      destination: sound-system/amplifier/amplifier
    - source: sound-system/amplifier/ac-dc converter
      destination: sound-system/amplifier/amplifier
    - source: sound-system/amplifier/amplifier
      destination: sound-system/amplifier/audio out connector
    - source: sound-system/amplifier/audio out connector
      destination: sound-system/speaker/cable
    - source: sound-system/speaker/cable
      destination: sound-system/speaker/connector
    - source: sound-system/speaker/connector
      destination: sound-system/speaker/driver
    - source: sound-system/speaker/driver
      destination: sound-system/speaker/enclosure
    - source: sound-system/amplifier/power button
      destination: sound-system/amplifier/ac-dc converter
    - source: sound-system/speaker/driver
      destination: user
    - source: user
      destination: sound-system/amplifier/power button
    # App
    - source: user
      destination: app/ui
    - source: app/ui
      destination: app/spotify client
    - source: app/spotify client
      destination: app/bluetooth driver
    - source: app/bluetooth driver
      destination: sound-system/amplifier/bluetooth receiver
config:
  footer: |
    skinparam nodesep 10
    skinparam ranksep 20
